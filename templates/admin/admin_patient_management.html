{% extends "layout.html" %}
{% block content %}
<div id="page_mainbody">
        <div id="home_paragraph1">
                <h3 id="page_header">Admin: User Management</h3>
                <div id="page_mainbody_home">
                    {% if patient_data is not none and patient_data|length > 0 %}
                        <table>
                            <tr>
                                <th>ID</th>
                                <th>User</th>
                                <th>Gender</th>
                                <th>Age</th>
                                <th>Hypertension?</th>
                                <th>Heart Disease?</th>
                                <th>Married?</th>
                                <th>Work Type</th>
                                <th>Residence Type</th>
                                <th>Average Glucose</th>
                                <th>BMI</th>
                                <th>Smoked?</th>
                                <th>Had Stroke?</th>
                            </tr>
                            {% for patient in patient_data %}
                                <tr>
                                    <td>{{ patient.id }}</td>
                                    <td>-</td>
                                    <td>{{ patient.gender }}</td>
                                    <td>{{ patient.age }}</td>
                                    {% if patient.hypert == 1 %}
                                        <td>Yes</td>
                                    {% else %}
                                        <td>No</td>
                                    {% endif %}
                                    {% if patient.hdisease == 1 %}
                                        <td>Yes</td>
                                    {% else %}
                                        <td>No</td>
                                    {% endif %}
                                    {% if patient.married == 1 %}
                                        <td>Yes</td>
                                    {% else %}
                                        <td>No</td>
                                    {% endif %}
                                    <td>{{ patient.wtype }}</td>
                                    <td>{{ patient.rtype }}</td>
                                    <td>{{ patient.glevel }}</td>
                                    <td>{{ patient.bmi }}</td>
                                    {% if patient.smoked == 1 %}
                                        <td>Yes</td>
                                    {% else %}
                                        <td>No</td>
                                    {% endif %}
                                    {% if patient.stroke == 1 %}
                                        <td>Yes</td>
                                    {% else %}
                                        <td>No</td>
                                    {% endif %}
                                </tr>
                            {% endfor %}
                        </table>
                    {% else %}
                        <p class="button"><a href="{{ url_for('admin_loadDB') }}" class="button_link">Load Data From CSV</a></p>
                        <p>Note: Loading the data from the CSV file takes a long time. The progress should be printed in the terminal.</p>
                        <table>
                            <tr>
                                <th>ID</th>
                                <th>User</th>
                                <th>Gender</th>
                                <th>Age</th>
                                <th>Hypertension?</th>
                                <th>Heart Disease?</th>
                                <th>Married?</th>
                                <th>Work Type</th>
                                <th>Residence Type</th>
                                <th>Average Glucose</th>
                                <th>BMI</th>
                                <th>Smoked?</th>
                                <th>Had Stroke?</th>
                            </tr>
                            <tr>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </table>
                    {% endif %}
                </div>
        </div>
</div>
{% endblock %}